# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –∑–∞–Ω—è—Ç–∏—é ¬´SQL. –ß–∞—Å—Ç—å 1¬ª

---

–ó–∞–¥–∞–Ω–∏–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫ –≤ –ª—é–±–æ–º IDE, —Ç–∞–∫ –∏ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ.

### –ó–∞–¥–∞–Ω–∏–µ 1

–ü–æ–ª—É—á–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∞–π–æ–Ω–æ–≤ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã —Å –∞–¥—Ä–µ—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –Ω–∞ ‚ÄúK‚Äù –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ ‚Äúa‚Äù –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–æ–±–µ–ª–æ–≤.

```
SELECT distinct district from sakila.address a 
WHERE (district like 'K%a') and (district not like '% %');
```
```
select distinct district from sakila.address a 
WHERE district REGEXP '^K[a-zA-Z]*a$';
```

### –ó–∞–¥–∞–Ω–∏–µ 2

–ü–æ–ª—É—á–∏—Ç–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –ø—Ä–æ–∫–∞—Ç —Ñ–∏–ª—å–º–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –ø–ª–∞—Ç–µ–∂–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ —Å 15 –∏—é–Ω—è 2005 –≥–æ–¥–∞ –ø–æ 18 –∏—é–Ω—è 2005 –≥–æ–¥–∞ **–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ** –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–≤—ã—à–∞–µ—Ç 10.00.

```
select * from sakila.payment c 
where amount > 10
and payment_date >= '2005-06-15 00:00:00' 
and payment_date < '2005-06-19 00:00:00';
```
```
select * from sakila.payment c 
where amount > 10
and payment_date BETWEEN '2005-06-15 00:00:00' and '2005-06-18 23:59:59'
```

### –ó–∞–¥–∞–Ω–∏–µ 3

–ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—è—Ç—å –∞—Ä–µ–Ω–¥ —Ñ–∏–ª—å–º–æ–≤.

```
select * from sakila.rental c
order by rental_date desc, rental_id desc
limit 5;
```

### –ó–∞–¥–∞–Ω–∏–µ 4

–û–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º –ø–æ–ª—É—á–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π, –∏–º–µ–Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö Kelly –∏–ª–∏ Willie. 

–°—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:
- –≤—Å–µ –±—É–∫–≤—ã –≤ —Ñ–∞–º–∏–ª–∏–∏ –∏ –∏–º–µ–Ω–∏ –∏–∑ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –ø–µ—Ä–µ–≤–µ–¥–∏—Ç–µ –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä,
- –∑–∞–º–µ–Ω–∏—Ç–µ –±—É–∫–≤—ã 'll' –≤ –∏–º–µ–Ω–∞—Ö –Ω–∞ 'pp'.

```
select REGEXP_REPLACE(LOWER(first_name), 'll','pp') first_name, 
REGEXP_REPLACE(LOWER(last_name), 'll','pp') last_name from sakila.customer
where active = 1 
and first_name REGEXP '(Kelly|Willie)' or last_name REGEXP '(Kelly|Willie)'
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (—Å–æ –∑–≤—ë–∑–¥–æ—á–∫–æ–π*)
–≠—Ç–∏ –∑–∞–¥–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ, —Ç–æ –µ—Å—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é, –∏ –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–º–∏ –∑–∞—á—ë—Ç–∞ –ø–æ —ç—Ç–æ–º—É –¥–æ–º–∞—à–Ω–µ–º—É –∑–∞–¥–∞–Ω–∏—é. –í—ã –º–æ–∂–µ—Ç–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç—å, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≥–ª—É–±–∂–µ —à–∏—Ä–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–µ.

### –ó–∞–¥–∞–Ω–∏–µ 5*

–í—ã–≤–µ–¥–∏—Ç–µ Email –∫–∞–∂–¥–æ–≥–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è, —Ä–∞–∑–¥–µ–ª–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–µ Email –Ω–∞ –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∏: –≤ –ø–µ—Ä–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –¥–æ @, –≤–æ –≤—Ç–æ—Ä–æ–π ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –ø–æ—Å–ª–µ @.

```
select SUBSTRING_INDEX(email, '@', 1) nick, SUBSTRING_INDEX(email, '@', -1) host from sakila.customer;
```

```
select  REGEXP_SUBSTR(email, '.*(?=@)') nick, REGEXP_SUBSTR(email, '(?<=@).*') host from sakila.customer;
```

### –ó–∞–¥–∞–Ω–∏–µ 6*

–î–æ—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ω–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö: –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–≥–ª–∞–≤–Ω–æ–π, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —Å—Ç—Ä–æ—á–Ω—ã–º–∏.

```
with t as 
	(select
	REGEXP_SUBSTR(email, '.*(?=@)') nick,
	REGEXP_SUBSTR(email, '(?<=@).*') host
	from sakila.customer)
select *,
	CONCAT(LEFT(nick,1),
			REGEXP_SUBSTR(
				LOWER(nick), '(?<=[a-z]).*')) nick_modern_0, 
--
	CONCAT(LEFT(nick,1),
			LOWER(
				RIGHT(nick, LENGTH(nick)-1))) nick_modern_1
from t;
```
---------------------------------------
–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫—É! üçµ üåø
